<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-display/TSDZ2 wireless project/ebike_wireless_controller">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="OpenSource-EBike" href="/opensearch.xml">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9270569596814796" crossorigin="anonymous"></script><title data-rh="true">Build the TSDZ2 wireless controller | OpenSource-EBike</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://opensource-ebike.org/docs/display/TSDZ2 wireless project/ebike_wireless_controller"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build the TSDZ2 wireless controller | OpenSource-EBike"><meta data-rh="true" name="description" content="Before you start you need to decide how you want to attach buttons and brake sensors and whether you want the option to have fewer wires on your EBike."><meta data-rh="true" property="og:description" content="Before you start you need to decide how you want to attach buttons and brake sensors and whether you want the option to have fewer wires on your EBike."><link data-rh="true" rel="icon" href="/img/hotlink-ok/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://opensource-ebike.org/docs/display/TSDZ2 wireless project/ebike_wireless_controller"><link data-rh="true" rel="alternate" href="https://opensource-ebike.org/docs/display/TSDZ2 wireless project/ebike_wireless_controller" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://opensource-ebike.org/docs/display/TSDZ2 wireless project/ebike_wireless_controller" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WZ05W1IA1Q-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.73f5193e.css">
<link rel="preload" href="/assets/js/runtime~main.4978a69d.js" as="script">
<link rel="preload" href="/assets/js/main.f48bdccb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/hotlink-ok/logo/logo.svg" alt="OpenSource-Ebike logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/hotlink-ok/logo/logo.svg" alt="OpenSource-Ebike logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OpenSource-Ebike</b></a><a class="navbar__item navbar__link" href="/docs/tsdz2/intro">TSDZ2</a><a class="navbar__item navbar__link" href="/docs/bafang/intro">Bafang</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/display/intro">Display</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/display/TSDZ2 wireless project/ebike_wireless_controller" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li></ul></div><a href="https://github.com/OpenSourceEBike/OpenSourceEBike.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/display/intro">OpenSource Ebike display</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/display/build_display">Build the display (TSDZ2)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/display/build_display-bafang_m500_M600">Build the display (M500/M600)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/display/bootloader">Installing the bootloader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/display/dfu">Device Firmware Update (DFU)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/display/stlinkv2">Using the stlinkv2</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/display/TSDZ2 wireless project/">TSDZ2 Wireless Project</a><button aria-label="Toggle the collapsible sidebar category &#x27;TSDZ2 Wireless Project&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/bootloader">Installing the bootloader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/dfu">Device Firmware Update (DFU)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/Power_Analysis">Remote Control Power Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/TSDZ2_wireless">TSDZ2 wireless board</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/TSDZ2_wireless_remote">Wireless remote</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/android_app_operation">Mobile app operation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/configuration">Remote Configuration Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/display/TSDZ2 wireless project/ebike_wireless_controller">Build the TSDZ2 wireless controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/firmware">Updating the firmware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/operation">**Remote operation**</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/display/TSDZ2 wireless project/remote/alt/build_remote">remote</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/display/TSDZ2 wireless project/wireless_motor_operation">Wireless Motor Operation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/display/development/">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/display/TSDZ2 wireless project/"><span itemprop="name">TSDZ2 Wireless Project</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Build the TSDZ2 wireless controller</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Build the TSDZ2 wireless controller</h1><p>Before you start you need to decide how you want to attach buttons and brake sensors and whether you want the option to have fewer wires on your EBike.</p><p>Both options require the use of the mobile app to configure the EBike. The mobile app connection is not required to control the EBike when riding - but can be used to provide real-time statistics; speed/motor current etc.</p><ul><li><p><strong>TSDZ2 EBike wireless controller</strong> and <strong>Wired Remote</strong>:</p><ul><li>You will not need to build the wireless remote.</li><li>Button keypad connects to the board directly.</li><li>Brake sensors connect direct to the motor.</li><li>You can mount the board either on the handlebars (so you can see LED signals easily) or you can mount closer to the motor if preferred.</li></ul></li><li><p><strong>TSDZ2 EBike wireless controller</strong> and <strong><a href="/docs/display/TSDZ2 wireless project/remote/build_remotes">Wireless Remote</a></strong>:</p><ul><li>You will need to build the wireless remote.</li><li>Button keypad and Brake sensors connect to the Wireless Remote.</li><li>Wireless Remote is battery powered so can be mounted on the handlebars with no cables.</li><li>EBike wireless controller is mounted close to the motor. </li></ul></li></ul><p>You will need the following components:</p><ul><li><p><strong>nRF52840 Nordic USB Dongle</strong><br>
<img loading="lazy" src="/assets/images/NRF52840-0b417dc04f8f74eaf03676dae8f9b607.png" width="347" height="244" class="img_ev3q"><br><br></p></li><li><p><strong>Step down 80V -&gt; 5V power board</strong>: costs 6€ and can be bought in many online shops like EBay, just search for &quot;EBike buck dd7818ta 80&quot;. Alternatively you can use the <a href="https://export.rsdelivers.com/product/xp-power/sth0548s05/xp-power-surface-mount-dc-dc-switching-regulator/1883365" target="_blank" rel="noopener noreferrer">XP Power STH0548S05</a> that is smaller but a bit more expensive. Please note that any DC-DC converter that you choose must have a voltage input of at least 60V and a 5V output.<br><br>
WARNING: the step down power boards based on LM2576HV, although very popular, they did work initially but later that did burn sudendly and result also in burned nRF52840 board!</p><br><br></li><li><p><strong>Perf board</strong>: costs 1€, can be bought on EBay or other shops.<br>
<img loading="lazy" src="/assets/images/perfboard-a23a3d3b2e660d345936ddfc09a68704.jpg" width="300" height="267" class="img_ev3q"><br><br></p></li><li><p><strong>Power switch BTS4140N</strong>: costs 2€, can be bought on EBay or other shops.<br>
<img loading="lazy" src="/assets/images/4140-2031e98d4138c0f53ce36f69b2c9ab89.png" width="246" height="205" class="img_ev3q"><br><br></p></li><li><p><strong>Transistor BSP296</strong>: costs 2€, can be bought on EBay or other shops.<br>
<img loading="lazy" src="/assets/images/bsp296-0c28f3b9f0cec4557690d3d44b347ca3.png" width="300" height="300" class="img_ev3q"><br><br></p></li><li><p><strong>TSDZ2 display extension cable</strong>: costs 6€, can be bought on EBay or other shops.<br>
<img loading="lazy" src="/assets/images/TSDZ2_cable-331468cb07fff1d8e3a1ec29a7a1d106.png" width="200" height="200" class="img_ev3q"><br><br></p></li><li><p><strong>Four screws M2x6</strong>: costs 1€, can be bought on EBay or other shops. This screws can be M2x4 up to M2x8. Buy them in black color if you plan to 3D print the enclose in black color.<br>
<img loading="lazy" src="/assets/images/screw-866013843a343f8af56a91e11893d4da.jpg" width="300" height="212" class="img_ev3q"><br><br></p></li><li><p><strong>Silicone</strong>: costs 4€, can be bought on EBay or other shops. The silicone will be used to seal the enclosure and make it water prof. There are silicone that is fast to cure like in two hours but this can not work very well, for not gluing well to the 3D printed plastic PLA. There are small tubes of silicone at shops, that you can use just a few pieces at a time.<br>
<img loading="lazy" src="/assets/images/silicone-ead417b0b6122015d5e357bbb6e0c917.jpg" width="149" height="400" class="img_ev3q"><br><br></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-instructions">Step by step instructions<a class="hash-link" href="#step-by-step-instructions" title="Direct link to heading">​</a></h2><p>1 - <strong>Flash bootloader on the nrf52840 board</strong> - see the page: <a href="/docs/display/TSDZ2 wireless project/getting_started.md">How to Flash the Wireless Bootloader on a Nordic Dongle</a></p><p>2 - <strong>Build your board</strong></p><p>2.1 - Cut your nRF52840 board with a metal saw by hand and this way it will be smaller - here a picture as example:</p><p><img loading="lazy" src="/assets/images/nrf52_board_cut-9b7c18d586d2826b9f2fbc4ff41e4016.png" width="729" height="365" class="img_ev3q"></p><p>2.2 - Solder all the components following the next schematic.</p><p>Schematic: Standard Controller (also need to build Wireless Remote)
<a target="_blank" href="/assets/files/TSDZ2_wireless-schematic-cd8e7f3da5ee055d7bbd6d1827c6e7bd.png"><img loading="lazy" src="/assets/images/TSDZ2_wireless-schematic-cd8e7f3da5ee055d7bbd6d1827c6e7bd.png" width="2305" height="942" class="img_ev3q"></a></p><p>Schematic: Wireless Controller with Wired Buttons (Wired Remote)
<a target="_blank" href="/assets/files/TSDZ2_wired-schematic-24b9786627407d68c7720b2fb3ab038c.png"><img loading="lazy" src="/assets/images/TSDZ2_wired-schematic-24b9786627407d68c7720b2fb3ab038c.png" width="2294" height="2008" class="img_ev3q"></a></p><p>Wire multiple brake sensors in parallel.</p><p>nrf52840 board pinout:
<img loading="lazy" alt="Pinout" src="/assets/images/nordic_pinout-6c61d93a2e0d56243c231d677b7fedcf.png" width="1378" height="1058" class="img_ev3q"></p><hr><p><strong>Small DC-DC (XP Power STH 0548S05)</strong></p><p><em>Next steps considers you are using the small DC-DC <a href="https://export.rsdelivers.com/product/xp-power/sth0548s05/xp-power-surface-mount-dc-dc-switching-regulator/1883365" target="_blank" rel="noopener noreferrer">XP Power STH0548S05</a>. If you decided to use the &quot;EBike buck dd7818ta 80&quot;, the see below</em></p><p>A perfboard were cut in a way that is has almost the same area as the 3D printed box:<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-01-c9efd61c8c667280274fc9f259488c46.jpg" width="1080" height="774" class="img_ev3q"></p><p>The nrf52840 board were soldered to the perfboard using six small wires, to connect the needed six pads as you can see on the schematic:<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-02-a1fbcc3c608aa05606f65fa774515576.jpg" width="1080" height="1027" class="img_ev3q"></p><p>Here we can see the perford on the other side and the six small wires soldered:<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-03-5399d403f29d14d54df00435f8c2ca45.jpg" width="1080" height="1074" class="img_ev3q"></p><p>Next step were to solder the DC-DC board and the mosfets. Only that three connections of DC-DC are used, the GND on one side and Vin and Vout on the other side. Also I did not have with me the BSP296 mosfet and used another equivalent but smaller. (I also did cut a bit more the perfboard but was a mistake):<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-04-0a38b72516a1561b8bc17c73ee7b94d4.jpg" width="1080" height="726" class="img_ev3q"></p><p>Next, I tested to see if the board did fit on the case (image from old design):<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-07-1199b90a69c66e4b4d6a514486cc2f41.jpg" width="1080" height="682" class="img_ev3q"></p><p>Next I soldered all the wires including the ones of the cable to connect on the TSDZ2 display connector.<br>
See that other than the TSDZ2 display connector wires, there is only need for more five wires. And I could use for sure thinner wires, but I used the ones I had at hand:<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-05-ee6dc6feb174738ea631f67711a1cd29.jpg" width="1080" height="683" class="img_ev3q"></p><p>Assembly:<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-09-e03d22d677112123e0e92b78e262468d.jpg" width="1045" height="780" class="img_ev3q"></p><p>Use the four M2x6 screws to fix the cover. The hole is for the RGB LED but you can verify you can still click on the board button:<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-08-c8a12ac3f8cee2c9cf63e6ca7f470101.jpg" width="1069" height="569" class="img_ev3q"></p><p>Download here the files for 3D print the box:</p><ul><li><a href="https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/raw/main/TSDZ2_wireless_small_box.amf" target="_blank" rel="noopener noreferrer">TSDZ2_wireless_small_box.amf</a></li><li><a href="https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/raw/main/TSDZ2_wireless_small_box_cover.amf" target="_blank" rel="noopener noreferrer">TSDZ2_wireless_small_box_cover.amf</a></li></ul><p><strong>Big DC-DC (dd7818ta)</strong>
<em>The follow information is about a way to build TSDZ2 EBike wireless controller using the DC-DC **EBike buck dd7818ta 80V -&gt; 5V 1A.</em></p><p>A perfboard were cut in a way that is has almost the same are as the power DC-DC board. See here all the boards, DC-DC power board on the left, perfboard at center and the nRF52840 at right:<br>
<img loading="lazy" src="/assets/images/TSDZ2-wireless-board-01-2d5f9ac75bc47963ae9bf116485bf49f.jpg" width="1041" height="800" class="img_ev3q"></p><p>The nrf52840 board were soldered to the perfboard (note that there is tape under the nrf52840 board, to insulate his back from the metal parts of the perf board).<br>
The mosfets were also soldered:<br>
<img loading="lazy" src="/assets/images/TSDZ2-wireless-board-02-994cb3bd4aee4efa22878d656287638b.jpg" width="1080" height="1016" class="img_ev3q"></p><p>Here are the wires soldered (note that I also had to cut a bit the perfboard on the top, so it will be easier to solder the wires to the power on next stage):<br>
<img loading="lazy" src="/assets/images/TSDZ2-wireless-board-03-5e8634b5624c1e44f5dc1b73d989b668.jpg" width="1080" height="986" class="img_ev3q"></p><p>Finally I used a thin double sided tape to fix the perfboard to the back of the DC-DC board:<br>
<img loading="lazy" src="/assets/images/TSDZ2-wireless-board-04-c4e3129c63516e554a0b060f04f06092.jpg" width="1280" height="800" class="img_ev3q"></p><p>Now with all the wires soldered, with the cable to connect on the TSDZ2 display connector:<br>
<img loading="lazy" src="/assets/images/TSDZ2-wireless-board-05-9da9ce87206983661712696984b52e86.jpg" width="1051" height="800" class="img_ev3q"></p><p>There is a red LED on the DC-DC board that is always on, to save that power, I simple removed the resistor R4 nard the LED:<br>
<img loading="lazy" src="/assets/images/TSDZ2-wireless-board-06-52bde3b96f24d9c27b820bb4047b6bf0.jpg" width="1040" height="576" class="img_ev3q"></p><p>And inside of a 3D printed box. Note that I used a small zip tie to block the cable so it will not be possible to pull it to outside:<br>
<img loading="lazy" src="/assets/images/TSDZ2-wireless-board-07-f52d9ed168506e2b748376a82fe2d706.jpg" width="1060" height="523" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/TSDZ2-wireless-board-08-8d2508d52d02ff062383623144fbb570.jpg" width="1080" height="837" class="img_ev3q"></p><p>Download here the files for 3D print the box:</p><ul><li><a href="https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/raw/main/TSDZ2_wireless_box.amf" target="_blank" rel="noopener noreferrer">TSDZ2_wireless_box.amf</a></li><li><a href="https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/raw/main/TSDZ2_wireless_box_cover.amf" target="_blank" rel="noopener noreferrer">TSDZ2_wireless_box_cover.amf</a></li></ul><hr><p>3 - <strong>Flash firmware on the nrf52840 board</strong> - see the page: <a href="/docs/display/TSDZ2 wireless project/firmware">How to Flash the Wireless Remote and Motor Controller Firmware</a></p><p>4 - <strong>Test</strong> -
To avoid damaging your board or/and the TSDZ2 controller, follow the following steps to plug your board on the TSDZ2:</p><ol><li>Disconnect the battery to the TSDZ2,</li><li>Wait few seconds to discharge the capacitors in the TSDZ2,</li><li>Connect your wireless controller to the TSDZ2,</li><li>Plug the battery back.
when the board is powered up and running the firmware, you should see the &quot;TSDZ2&quot; Bluetooth device on your mobile phone.</li></ol><p>5 - <strong>Making water prof and install on EBike</strong></p><p>I did fill be box holes with translucid silicone and inserted the board - my objective is to have a water prof device. But I do not put to much silicone because I may need to repair the board later. I put silicone on the cables, to avoid the vibrations on the bicycle to break the wires over the time.</p><p>After 24 hours waiting for silicone to dry. I did fully cover the hole and it works very well to see the LED light(image from old design):<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-11-d8c02b6081e3080cde39ed43fb16a2ab.jpg" width="1080" height="783" class="img_ev3q"></p><p>Checking to see if it still works (image from old design):<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-12-325ca0aa56953a5616594278c14b655f.jpg" width="1080" height="897" class="img_ev3q"></p><p>Final installation on the frame of my EBike (image from old design):<br>
<img loading="lazy" src="/assets/images/TSDZ2_wireless_board_small-13-fc1a9245e15b5114bfd8fec601571ca2.jpg" width="780" height="1081" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/tree/master/docs/display/TSDZ2 wireless project/ebike_wireless_controller.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/display/TSDZ2 wireless project/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Remote Configuration Options</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/display/TSDZ2 wireless project/firmware"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Updating the firmware</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-by-step-instructions" class="table-of-contents__link toc-highlight">Step by step instructions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Other</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 OpenSource-EBike</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4978a69d.js"></script>
<script src="/assets/js/main.f48bdccb.js"></script>
</body>
</html>