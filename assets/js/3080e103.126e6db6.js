"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4969],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return m}});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=n.createContext({}),c=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},l=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=c(r),m=o,f=d["".concat(p,".").concat(m)]||d[m]||u[m]||i;return r?n.createElement(f,a(a({ref:t},l),{},{components:r})):n.createElement(f,a({ref:t},l))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=r[c];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},22224:function(e,t,r){r.r(t),r.d(t,{assets:function(){return l},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var n=r(83117),o=r(80102),i=(r(67294),r(3905)),a=["components"],s={sidebar_position:5},p="Device Firmware Update (DFU)",c={unversionedId:"display/TSDZ2 wireless project/dfu",id:"display/TSDZ2 wireless project/dfu",title:"Device Firmware Update (DFU)",description:"The DFU process is done using the nRF Connect mobile app.",source:"@site/docs/display/TSDZ2 wireless project/dfu.md",sourceDirName:"display/TSDZ2 wireless project",slug:"/display/TSDZ2 wireless project/dfu",permalink:"/docs/display/TSDZ2 wireless project/dfu",draft:!1,editUrl:"https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/tree/master/docs/display/TSDZ2 wireless project/dfu.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"displaySidebar",previous:{title:"Installing the bootloader",permalink:"/docs/display/TSDZ2 wireless project/bootloader"},next:{title:"Remote Control Power Analysis",permalink:"/docs/display/TSDZ2 wireless project/Power_Analysis"}},l={},u=[{value:"DFU Procedure",id:"dfu-procedure",level:2},{value:"back",id:"back",level:2}],d={toc:u};function m(e){var t=e.components,r=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"device-firmware-update-dfu"},"Device Firmware Update (DFU)"),(0,i.kt)("p",null,"The DFU process is done using the ",(0,i.kt)("a",{parentName:"p",href:"https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp"},"nRF Connect mobile app"),"."),(0,i.kt)("h2",{id:"dfu-procedure"},"DFU Procedure"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Start DFU mode"),"\nThis can be done by entering 0x99 as a configuration variable in either the remote control or wireless controller firmware using bluetooth control.\nYou can also initiate DFU mode by holding the board button down for several seconds during a reset. (ie: when power cycling, or pressing the reset button on the board)"),(0,i.kt)("p",{parentName:"li"},' Verify the bootloader starts advertising as "TSDZ2_DFU".You\u2019ll need to make sure the package you created in step #7 is accessible on the mobile phone you\u2019re using. Now, connect to the DFU target:')),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Copy the DFU .zip file for the wireless remote to the phone or to the folder on PC of your choice"),"\nThis can be done by simply emailing the update file to your device.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Use nRFConnect app to connect and do an OTA DFU using the .zip file you copied"),"\nTo start the process, press the DFU button. Then click \u201cOpen Document Picker\u201dChoose the .zip file  ")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Click the \u201cStart\u201d button"),"\nThe DFU will begin")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"the DFU process is now complete"),"\nOnce the DFU process has completed, you should see that your new application (that was part of the DFU package) is now running."))),(0,i.kt)("p",null,"Here is a video showing a wireless DFU for the TZDZ2 remote control:\n",(0,i.kt)("a",{parentName:"p",href:"https://youtu.be/va3LJoiosoc"},(0,i.kt)("img",{parentName:"a",src:"https://img.youtube.com/vi/va3LJoiosoc/hqdefault.jpg",alt:"video"}))),(0,i.kt)("h2",{id:"back"},(0,i.kt)("a",{parentName:"h2",href:"getting_started.md"},"back")))}m.isMDXComponent=!0}}]);