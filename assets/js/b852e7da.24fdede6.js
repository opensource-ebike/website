"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8297],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return h}});var o=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),u=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=u(r),h=n,d=m["".concat(s,".").concat(h)]||m[h]||c[h]||a;return r?o.createElement(d,i(i({ref:t},p),{},{components:r})):o.createElement(d,i({ref:t},p))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var u=2;u<a;u++)i[u]=r[u];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},30145:function(e,t,r){r.r(t),r.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var o=r(83117),n=r(80102),a=(r(67294),r(3905)),i=["components"],l={},s=void 0,u={unversionedId:"tsdz2/How-to-install-motor-temperature-sensor",id:"tsdz2/How-to-install-motor-temperature-sensor",title:"How-to-install-motor-temperature-sensor",description:"The installation of the motor temperature sensor is optional. The advantage of installing the motor temperature sensor is to avoid permanent damage/loss of torque of TSDZ2 motor -- please read more here: [[TSDZ2 motor demagnetized due to overheating]].",source:"@site/docs/tsdz2/How-to-install-motor-temperature-sensor.md",sourceDirName:"tsdz2",slug:"/tsdz2/How-to-install-motor-temperature-sensor",permalink:"/docs/tsdz2/How-to-install-motor-temperature-sensor",draft:!1,editUrl:"https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/tree/master/docs/tsdz2/How-to-install-motor-temperature-sensor.md",tags:[],version:"current",frontMatter:{},sidebar:"tsdz2Sidebar",previous:{title:"How-to-install-brake-sensors",permalink:"/docs/tsdz2/How-to-install-brake-sensors"},next:{title:"How-to-install-the-Flexible-OpenSource-firmware",permalink:"/docs/tsdz2/How-to-install-the-Flexible-OpenSource-firmware"}},p={},c=[{value:"LM35",id:"lm35",level:2},{value:"8 Wire Throttle type.",id:"8-wire-throttle-type",level:2},{value:"6 Wire, No-Throttle type:",id:"6-wire-no-throttle-type",level:2},{value:"Non-Reversible Temperature Label",id:"non-reversible-temperature-label",level:2}],m={toc:c};function h(e){var t=e.components,r=(0,n.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The installation of the motor temperature sensor is optional. The advantage of installing the motor temperature sensor is to avoid permanent damage/loss of torque of TSDZ2 motor -- please read more here: [","[TSDZ2 motor demagnetized due to overheating]","]. "),(0,a.kt)("p",null,"You can see the installation process in the ",(0,a.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=Wb8Omk6e7GI"},"JBalat Install Video for 6 Wire controller")),(0,a.kt)("p",null,"The firmware shows on LCD3 the motor temperature (this is optional) and can also reduce linearly the motor current while the motor temperature increases (this is optional)."),(0,a.kt)("p",null,"NOTE: to use this motor temperature sensor ",(0,a.kt)("em",{parentName:"p"},"you will lose the ability to use the throttle"),". "),(0,a.kt)("h2",{id:"lm35"},"LM35"),(0,a.kt)("p",null,"The sensor used is the ",(0,a.kt)("a",{parentName:"p",href:"http://www.ti.com/lit/ds/symlink/lm35.pdf"},"LM35")," that is very popular and easy buy online like on Ebay. It is also very simple to interface with the TSDZ2 motor controller, where just 3 wires need to be connected. ","[If you are getting your LM35 from Ali/ebay, not Mouser/Digikey then you might want to test them at 100C (in steam) before fitting, to be sure they work properly, as the calibration of random chinese knockoffs is not something you can be confident in. (and some are reported to just not work at all)]"),(0,a.kt)("p",null,"The LM35 outputs a linear voltage, 10mV/K, over the temperature range, i.e 0V@0C, 250mV@25C , 850mV@85C, 1V@100C. Because the only free header connector available on the TSDZ2 motor controller that reads an analog voltage signal is the one used for the throttle, the sensor is connected to that header and the throttle can not be connected and used."),(0,a.kt)("p",null,"There are two types of controller: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"8 wire with throttle: You will cut the wires and connect sensor to them"),(0,a.kt)("li",{parentName:"ul"},"6 wire with no-throttle: You will pick the encapsulant away from the pcb and solder to the pcb.")),(0,a.kt)("p",null,"I connected LM35 to a connector so is possible to remove it when I need, for instance when I want to remove the motor:"),(0,a.kt)("p",null,"[","[https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/motor_temperature_sensor-02.jpg]","]\n[","[https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/motor_temperature_sensor-01.jpg]","]"),(0,a.kt)("p",null,"If you are getting your LM35 from Ali/ebay, then you might want to test them at 100C (in steam) before fitting, to be sure they work properly, as the calibration of random chinese knockoffs is not something you can be confident in."),(0,a.kt)("h2",{id:"8-wire-throttle-type"},"8 Wire Throttle type."),(0,a.kt)("p",null,"I wired the wires to the existing motor controllers wires for throttle. I decided to not cut the throttle wires but leave them in place in the case in future I still want to use them and not the temperature sensor:"),(0,a.kt)("p",null,"For additional clarity - here are the wires labelled on a recent motor (2020). It appears the Black GND wire may have moved next to the White (5V) wire - earlier versions of the motor appear to have this Black GND wire attaching somewhere else, but as long as you use the Black wire in the 8 wire loom going to the screen (along with the Orange and White wires) shown in this photo, you should be fine. Please don't blindly use the wire colours - double check the wires going to the shown locations on the board, before you cut and splice."),(0,a.kt)("p",null,"So Throttle (Orange wire) is cut and soldered to the centre leg (Vout) of the temp sensor. 5V (White wire) is spliced to the Vs leg of the temp sensor. Gnd (Black wire) is spliced to the ground leg of the temp sensor"),(0,a.kt)("p",null,"[","[https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/8wire_temp_sensor_labelled.jpg]","]"),(0,a.kt)("p",null,"[","[https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/motor_temperature_sensor-04.jpg]","]"),(0,a.kt)("p",null,"I first glued one face of LM35 to a metal face of the motor (the part of the motor that gets hot first) with a tape and then started to put silicone (high temperature version of silicone) and let it dry up before putting the final amount. Make sure the LM35 face is in close contact with the motor metal part:"),(0,a.kt)("p",null,"[","[https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/motor_temperature_sensor-03.jpg]","]"),(0,a.kt)("h2",{id:"6-wire-no-throttle-type"},"6 Wire, No-Throttle type:"),(0,a.kt)("p",null,"The connection points are clear in the ",(0,a.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=Wb8Omk6e7GI"},"JBalat Install Video for 6 Wire")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/TSDZ2_motor_controller_without_throttle_wires.jpeg",alt:"6 wire motor control"})),(0,a.kt)("h2",{id:"non-reversible-temperature-label"},"Non-Reversible Temperature Label"),(0,a.kt)("p",null,"A useful diagnostic is the ",(0,a.kt)("a",{parentName:"p",href:"https://nz.rs-online.com/web/p/temperature-sensitive-labels/7799772/"},"non-reversible temperature label"),". This permanently changes color showing the maximum temperature ",(0,a.kt)("em",{parentName:"p"},"ever")," reached. "),(0,a.kt)("p",null,"[","[https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/Temperature_Label_on_Motor1.jpg]","]"))}h.isMDXComponent=!0}}]);