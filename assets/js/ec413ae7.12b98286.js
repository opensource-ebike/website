"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4992],{3905:function(e,t,n){n.d(t,{Zo:function(){return h},kt:function(){return c}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},h=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),m=u(n),c=o,d=m["".concat(i,".").concat(c)]||m[c]||p[c]||r;return n?a.createElement(d,s(s({ref:t},h),{},{components:n})):a.createElement(d,s({ref:t},h))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var u=2;u<r;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3748:function(e,t,n){n.r(t),n.d(t,{assets:function(){return h},contentTitle:function(){return i},default:function(){return c},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return p}});var a=n(3117),o=n(102),r=(n(7294),n(3905)),s=["components"],l={},i=void 0,u={unversionedId:"tsdz2/Features-and-configurations-on-display-860C_850C_SW102_v0.8.0",id:"tsdz2/Features-and-configurations-on-display-860C_850C_SW102_v0.8.0",title:"Features-and-configurations-on-display-860C_850C_SW102_v0.8.0",description:"\\\\TOC\\\\",source:"@site/docs/tsdz2/Features-and-configurations-on-display-860C_850C_SW102_v0.8.0.md",sourceDirName:"tsdz2",slug:"/tsdz2/Features-and-configurations-on-display-860C_850C_SW102_v0.8.0",permalink:"/docs/tsdz2/Features-and-configurations-on-display-860C_850C_SW102_v0.8.0",draft:!1,editUrl:"https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/tree/master/docs/tsdz2/Features-and-configurations-on-display-860C_850C_SW102_v0.8.0.md",tags:[],version:"current",frontMatter:{},sidebar:"tsdz2Sidebar",previous:{title:"Features-and-configurations-on-display-850C_v0.6.6",permalink:"/docs/tsdz2/Features-and-configurations-on-display-850C_v0.6.6"},next:{title:"Features-and-configurations-on-display",permalink:"/docs/tsdz2/Features-and-configurations-on-display"}},h={},p=[{value:"Main screens",id:"main_screens",level:2},{value:"Change variables on numeric fields or graph",id:"change_variables_on_numeric_fields_or_graph",level:3},{value:"Configurations screen",id:"configurations_screen",level:2},{value:"Wheel",id:"wheel",level:2},{value:"Battery",id:"battery",level:2},{value:"Battery SOC",id:"battery_soc",level:2},{value:"Motor",id:"motor",level:2},{value:"Torque sensor / Torque sen",id:"torque_sensor_torque_sen",level:2},{value:"Assist level / Assist",id:"assist_level_assist",level:2},{value:"Walk assist / Walk",id:"walk_assist_walk",level:2},{value:"Startup BOOST / Start Pwr",id:"startup_boost_start_pwr",level:2},{value:"Motor temperature/Throttle / Motor temp",id:"motor_temperaturethrottle_motor_temp",level:2},{value:"Street mode / Street mod",id:"street_mode_street_mod",level:2},{value:"Variables (850C only)",id:"variables_850c_only",level:2},{value:"Various",id:"various",level:2},{value:"Display",id:"display",level:2},{value:"Technical",id:"technical",level:2}],m={toc:p};function c(e){var t=e.components,n=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"_","_","TOC","_","_"),(0,r.kt)("p",null,"If your are looking for previous version information: ",(0,r.kt)("a",{parentName:"p",href:"Features_and_configurations_on_display_850C_SW102_v0.7.0",title:"wikilink"},"Features and\nconfigurations on display\n850C_SW102_v0.7.0"),"."),(0,r.kt)("p",null,"The following only applies to TSDZ2 motor controller firmware version\n0.57.0, 860C, 850C and SW102 displays firmware 0.8.0."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"CAUTION:")," due to any possible existing bug on the firmware or user\nincorrect configuration, the motor controller may burn and/or the motor\nand bicycle wheel may start to run very fast at max power - please be\nvery careful when installing the firmware and keep the bicycle back\nwheel on the air, have brake sensors installed and the possibility with\neasy access to quick cut the battery power like removing the battery\nconnector to the TSDZ2."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"CAUTION:"),"\\\n","*"," Always use the mentioned firmware version for both the TSDZ2 motor\ncontroller and display!"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Before using the mid drive with new firmware, you must correctly\nconfigure the options on the display. For instance, you should\nconfigure your battery low voltage cut off so as not to over\ndischarge the battery. Do set all other parameters also to ensure\nproper operation."),(0,r.kt)("li",{parentName:"ul"},"When installing new firmware, always check that no unwanted\nfunctions have become enabled or disabled during the install\nprocess.")),(0,r.kt)("h1",{id:"navigation"},"Navigation"),(0,r.kt)("h2",{id:"main_screens"},"Main screens"),(0,r.kt)("p",null,"NOTE: Both displays have 3 different main screens and each one have his\nown customized numeric fields and 860C and 850C have also their own\ncustomized graph field on each main screen. You can change the\ninformation/variable shown on this customized fields."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"  ",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=eDENZS4pHvo"},"Click here to see video showing 850C"),"    ",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=q0N5W3Fgyjk"},"Click here to see video showing SW102"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/850C_video.jpg"},"https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/850C_video.jpg"),"   ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/SW102_video.jpg"},"https://github.com/OpenSource-EBike-firmware/TSDZ2_wiki/blob/master/SW102_video.jpg")),(0,r.kt)("hr",null),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Turn on/off: ON/OFF long press"),(0,r.kt)("li",{parentName:"ul"},"Change assist level: UP or DOWN click"),(0,r.kt)("li",{parentName:"ul"},"Turn on/off the lights: UP long press"),(0,r.kt)("li",{parentName:"ul"},"Walk assist: DOWN long press (walk assist is only enabled while DOWN\nbutton is pressed)"),(0,r.kt)("li",{parentName:"ul"},"Street mode on/off: simultaneous DOWN and ON/OFF, long press"),(0,r.kt)("li",{parentName:"ul"},"Motor max power: simultaneous UP and ON/OFF, long press"),(0,r.kt)("li",{parentName:"ul"},"Alternate main screen: ON/OFF click"),(0,r.kt)("li",{parentName:"ul"},"Show fields labels (SW102 only): M click"),(0,r.kt)("li",{parentName:"ul"},"Enter configurations screen: simultaneous ON/OFF, UP and DOWN, long\npress")),(0,r.kt)("h3",{id:"change_variables_on_numeric_fields_or_graph"},"Change variables on numeric fields or graph"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Select the variable: simultaneous UP and DOWN, long press"),(0,r.kt)("li",{parentName:"ul"},"Leave: ON/OFF long press"),(0,r.kt)("li",{parentName:"ul"},"Choose new variable: UP or DOWN click"),(0,r.kt)("li",{parentName:"ul"},"Jump to next field: ON/OFF click"),(0,r.kt)("li",{parentName:"ul"},"(860C/850C only) UP and DOWN long press to select on the graph the X\naxis scale from 15m, 1h, 4h or automatic"),(0,r.kt)("li",{parentName:"ul"},"(860C/850C only) UP or DOWN click to change X axis scale"),(0,r.kt)("li",{parentName:"ul"},"(860C/850C only) ON/OFF long press to leave")),(0,r.kt)("h2",{id:"configurations_screen"},"Configurations screen"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Leave: ON/OFF long press to go back"),(0,r.kt)("li",{parentName:"ul"},"Scroll up or down: UP or DOWN click"),(0,r.kt)("li",{parentName:"ul"},"Edit item: 850C: ON/OFF click; 860C/SW102: menu click"),(0,r.kt)("li",{parentName:"ul"},"Apply: 850C: ON/OFF long press; 860C/SW102: menu click")),(0,r.kt)("h1",{id:"available_information_to_show_on_display"},"Available information to show on display"),(0,r.kt)("p",null,"There are a few variables that can be selected to be shown on the\ncustomized numeric fields or graph (850C only). Note that only some of\nthem are available to be show on the graph."),(0,r.kt)("p",null,"+---------------+-----------------------------------------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Variable"),"  | ",(0,r.kt)("strong",{parentName:"p"},"Description"),"                                     |\n+---------------+-----------------------------------------------------+\n| trip time     | Amount of time from startup of the system.          |\n+---------------+-----------------------------------------------------+\n| trip distance | Amount of kms from counted from startup of the      |\n|               | system.                                             |\n+---------------+-----------------------------------------------------+\n| odometer      | Total amount of kms. This value can be edited on    |\n|               | the configurations, for instance in the case you    |\n|               | want to set a specific value.                       |\n+---------------+-----------------------------------------------------+\n| cadence       | Pedal cadence measured using the PAS sensor inside  |\n|               | the TSDZ2 motor.                                    |\n+---------------+-----------------------------------------------------+\n| human power   | Pedal human power. This is calculated using the     |\n|               | following formulas:\\                                |\n|               | ","#"," torque sensor signal is linearized and the       |\n|               | output ADC values are converted to weight is kgs    |\n|               |                                                     |\n|               | 1.  pedal torque in Nm is calculated as: pedal      |\n|               |     torque = weight Kgs on pedals ","*"," 9.81 (gravity) |\n|               |     ","*"," 0.17 (0.17 is the arm cranks size)           |\n|               | 2.  pedal power in watts is calculated as: pedal    |\n|               |     power = (pedal torque ","*"," pedal cadence ","*"," 2 ","*","  |\n|               |     pi) / 60                                        |\n+---------------+-----------------------------------------------------+\n| motor power   | This value is calculated by multiplying the battery |\n|               | current to the battery voltage.                     |\n+---------------+-----------------------------------------------------+\n| batt voltage  | Battery voltage measure by the TSDZ2 motor          |\n|               | controller.                                         |\n+---------------+-----------------------------------------------------+\n| batt current  | Battery current measure by the TSDZ2 motor          |\n|               | controller.                                         |\n+---------------+-----------------------------------------------------+\n| motor current | Motor current. This value is calculated as: motor   |\n|               | current = measured battery current / PWM            |\n|               | duty-cycle. Note that PWM duty-cycle value varies   |\n|               | between 0 and 1.                                    |\n+---------------+-----------------------------------------------------+\n| battery SOC   | Battery state of charge, based on counting the      |\n|               | amount power pulled from the battery to power the   |\n|               | TSDZ2 motor.                                        |\n+---------------+-----------------------------------------------------+\n| motor temp    | Motor temperature. Note that if the temperature     |\n|               | sensor is not installed, this value has no meaning. |\n+---------------+-----------------------------------------------------+\n| motor speed   | In ERPS (electric rotation per second) units. The   |\n|               | motor has 8 pair of magnets inside, meaning each 1  |\n|               | ERPs equal to one RPS (rotation per second).        |\n+---------------+-----------------------------------------------------+\n| motor pwm     | Motor PWM duty-cycle. This value can fluctuate      |\n|               | between 0% and 100% max. Where 0 means 0 battery    |\n|               | voltage applied to motor coils while 100 means max  |\n|               | battery voltage applied. When this value hits the   |\n|               | max of 100, means that motor max power possible is  |\n|               | being applied.                                      |\n+---------------+-----------------------------------------------------+\n| motor foc     | Angle calculated by FOC algorithm, between 0 and    |\n|               | 30. Higher motor phase current and/or higher motor  |\n|               | speed, makes this value increase.                   |\n+---------------+-----------------------------------------------------+"),(0,r.kt)("h1",{id:"configurations"},"Configurations"),(0,r.kt)("h2",{id:"wheel"},"Wheel"),(0,r.kt)("p",null,"+---------------+-------------------+--------------------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Name"),"      | ",(0,r.kt)("strong",{parentName:"p"},"Default value")," | ",(0,r.kt)("strong",{parentName:"p"},"Description"),"                |\n+---------------+-------------------+--------------------------------+\n| Max speed     | 50                | Enter speed limit from where   |\n|               |                   | the motor will fade out power  |\n|               |                   | from.\\                         |\n|               |                   | \\                              |\n+---------------+-------------------+--------------------------------+\n| Circumference | 2050              | Enter your wheel circumference |\n|               |                   | so that speed and distance are |\n|               |                   | correctly calculated.\\         |\n|               |                   | \\                              |\n|               |                   | Tip: Search on Google how to   |\n|               |                   | measure the wheel              |\n|               |                   | circumference. Below are       |\n|               |                   | approximate values for a quick |\n|               |                   | setup. Remember to calibrate   |\n|               |                   | with GPS for finer             |\n|               |                   | adjustments.\\                  |\n|               |                   | \\                              |\n|               |                   | 20 inch wheel = 1595 mm\\       |\n|               |                   | 26 inch wheel = 2050 mm\\       |\n|               |                   | 27 inch wheel = 2150 mm\\       |\n|               |                   | 27.5 inch wheel = 2215 mm\\     |\n|               |                   | 28 inch wheel = 2250 mm\\       |\n|               |                   | 29 inch wheel = 2300 mm        |\n+---------------+-------------------+--------------------------------+"),(0,r.kt)("h2",{id:"battery"},"Battery"),(0,r.kt)("p",null,"+----------------+-------------------+-------------------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Name"),"       | ",(0,r.kt)("strong",{parentName:"p"},"Default value")," | ",(0,r.kt)("strong",{parentName:"p"},"Description"),"               |\n+----------------+-------------------+-------------------------------+\n| Max current    | 16 ampere         | Set maximum allowable current |\n|                |                   | to be pulled from the         |\n|                |                   | battery - this value is a     |\n|                |                   | technical characteristic of   |\n|                |                   | your battery, you need to     |\n|                |                   | find it on your battery user  |\n|                |                   | manual or ask to the          |\n|                |                   | manufacturer. Also the TSDZ2  |\n|                |                   | has his own limit of the max  |\n|                |                   | current it can pull from the  |\n|                |                   | battery that is 18 amps so    |\n|                |                   | the TSDZ2 firmware limits to  |\n|                |                   | this value (no point for you  |\n|                |                   | to setup a higher value than  |\n|                |                   | 18).                          |\n+----------------+-------------------+-------------------------------+\n| Low cut-off    | 42 volts          | The controller will reduce    |\n|                |                   | power to stay over this       |\n|                |                   | limit!\\                       |\n|                |                   | \\                             |\n|                |                   | NOTE that is saffer and so    |\n|                |                   | highly suggested that your    |\n|                |                   | battery pack have BMS to      |\n|                |                   | protect against battery deep  |\n|                |                   | discharging, short circuit,   |\n|                |                   | etc and this way to avoid     |\n|                |                   | possible explosions of the    |\n|                |                   | battery pack.\\                |\n|                |                   | \\                             |\n|                |                   | Calculate the Low cut-off     |\n|                |                   | limit by multiplying amount   |\n|                |                   | of cells in series with the   |\n|                |                   | safe cut-off-voltage per      |\n|                |                   | cell, which is usually        |\n|                |                   | between 2.8 - 3.0 volts.      |\n|                |                   | Example: 42.0 volts for: 14   |\n|                |                   | cells in series ","*"," 3.0 volts  |\n|                |                   | = 42.0 volts.\\                |\n|                |                   | \\                             |\n|                |                   | Note that by setting a to     |\n|                |                   | high Low cut-off limit you    |\n|                |                   | will make less deep           |\n|                |                   | discharging cycles of your    |\n|                |                   | battery meaning the battery   |\n|                |                   | life will be increased AND    |\n|                |                   | you will then have less power |\n|                |                   | available to use and so less  |\n|                |                   | range.                        |\n+----------------+-------------------+-------------------------------+\n| Resistance     | 300 milliohms     | The battery SOC (State Of     |\n|                |                   | charge) indicator use the     |\n|                |                   | battery resistance to         |\n|                |                   | consider the power loss       |\n|                |                   | inside the battery resistance |\n|                |                   | and also the resistance on    |\n|                |                   | the cables. See Resistance    |\n|                |                   | est field instructions to     |\n|                |                   | know how you can get this     |\n|                |                   | value.                        |\n+----------------+-------------------+-------------------------------+\n| Voltage est    | ","-","                | Real time battery voltage     |\n|                |                   | value that is filtered using  |\n|                |                   | the battery pack resistance.  |\n|                |                   | If the battery resistance     |\n|                |                   | value is correct, this        |\n|                |                   | voltage should almost not     |\n|                |                   | change when the motor is not  |\n|                |                   | running or when motor is      |\n|                |                   | running and pulling high      |\n|                |                   | current from the battery.     |\n+----------------+-------------------+-------------------------------+\n| Resistance est | ","-","                | Battery resistance estimated  |\n|                |                   | value that is automatically   |\n|                |                   | calculated so you can assess  |\n|                |                   | his value and then configure  |\n|                |                   | the Resistance field.\\        |\n|                |                   | \\                             |\n|                |                   | How start the automatic       |\n|                |                   | battery pack resistance       |\n|                |                   | estimation:\\                  |\n|                |                   | ","*"," start with battery already |\n|                |                   | discharged, with any value    |\n|                |                   | between 75% and 25%           |\n|                |                   |                               |\n|                |                   | -   start pedaling for 10     |\n|                |                   |     consecutive seconds, make |\n|                |                   |     the motor pull high       |\n|                |                   |     current value from the    |\n|                |                   |     battery like 10 amps (use |\n|                |                   |     an high assist level).    |\n|                |                   |     After the 10 seconds you  |\n|                |                   |     should see a value on the |\n|                |                   |     field. For my battery     |\n|                |                   |     pack of 14S3P 3500 mAh    |\n|                |                   |     cells, I get a value near |\n|                |                   |     200 milliohm.             |\n|                |                   | -   repeat the previous step  |\n|                |                   |     a few times to make sure  |\n|                |                   |     you always get a similar  |\n|                |                   |     value                     |\n|                |                   | -   set the measured value    |\n|                |                   |     Resistance field (I       |\n|                |                   |     always round up the       |\n|                |                   |     value)                    |\n+----------------+-------------------+-------------------------------+\n| Power loss est | ","-","                | Power loss estimated value    |\n|                |                   | that happens inside the       |\n|                |                   | battery pack due to battery   |\n|                |                   | and cables resistance.        |\n+----------------+-------------------+-------------------------------+"),(0,r.kt)("h2",{id:"battery_soc"},"Battery SOC"),(0,r.kt)("p",null,"+-----------------------+-------------------+-----------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Name"),"              | ",(0,r.kt)("strong",{parentName:"p"},"Default value")," | ",(0,r.kt)("strong",{parentName:"p"},"Description"),'       |\n+-----------------------+-------------------+-----------------------+\n| Text                  | SOC %             | \\"SOC %\\" to show on  |\n|                       |                   | the main screen, near |\n|                       |                   | the battery symbol,   |\n|                       |                   | the value of SOC in   |\n|                       |                   | percentage. \\"Volts\\" |\n|                       |                   | to show the battery   |\n|                       |                   | voltage and           |\n|                       |                   | \\"disable\\" to show   |\n|                       |                   | nothing\\\'             |\n+-----------------------+-------------------+-----------------------+\n| Reset at voltage /    | 58.5              | Threshold voltage to  |\n| Reset at              |                   | reset the SOC         |\n|                       |                   | watt-hour meter: when |\n|                       |                   | powering on the       |\n|                       |                   | display this value is |\n|                       |                   | compared to the       |\n|                       |                   | battery voltage. If   |\n|                       |                   | the battery voltage   |\n|                       |                   | is higher, then the   |\n|                       |                   | battery is expected   |\n|                       |                   | to be fully charged   |\n|                       |                   | and the SOC watt-hour |\n|                       |                   | meter is reset,       |\n|                       |                   | effectively resetting |\n|                       |                   | the SOC to 100%.\\     |\n|                       |                   | \\                     |\n|                       |                   | Tip: To find a        |\n|                       |                   | suitable value, fully |\n|                       |                   | charge the battery    |\n|                       |                   | and measure the       |\n|                       |                   | voltage on the        |\n|                       |                   | display, use a        |\n|                       |                   | slightly lower value  |\n|                       |                   | for the threshold     |\n|                       |                   | voltage.\\             |\n|                       |                   | \\                     |\n|                       |                   | Example: my 52V       |\n|                       |                   | battery charges up to |\n|                       |                   | 58.8 volts, so I set  |\n|                       |                   | the threshold to 58.5 |\n|                       |                   | volts.\\               |\n|                       |                   | \\                     |\n+-----------------------+-------------------+-----------------------+\n| Battery total Wh /    | 500               | Set the total         |\n| Battery total         |                   | capacity in           |\n|                       |                   | watt-hours your       |\n|                       |                   | battery has.\\         |\n|                       |                   | \\                     |\n|                       |                   | Tip: fully charge the |\n|                       |                   | battery and then      |\n|                       |                   | discharge it          |\n|                       |                   | completely and use    |\n|                       |                   | the measured value to |\n|                       |                   | input here. NOTE that |\n|                       |                   | you also need first   |\n|                       |                   | to setup the correct  |\n|                       |                   | value of your battery |\n|                       |                   | internal resistance   |\n|                       |                   | as also the low       |\n|                       |                   | cut-off voltage.\\     |\n|                       |                   | \\                     |\n|                       |                   | Tip: the capacities   |\n|                       |                   | stated from suppliers |\n|                       |                   | are often too high,   |\n|                       |                   | expect a value of     |\n|                       |                   | around 80 % - 90 % of |\n|                       |                   | stated value. I use   |\n|                       |                   | 350 Wh for my 386 Wh  |\n|                       |                   | battery.\\             |\n|                       |                   | \\                     |\n|                       |                   | Tip: roughly          |\n|                       |                   | calculate the         |\n|                       |                   | capacity by           |\n|                       |                   | multiplying the       |\n|                       |                   | nominal voltage with  |\n|                       |                   | the nominal ampere    |\n|                       |                   | hours. Example: a 52  |\n|                       |                   | volt, 7 Ah battery    |\n|                       |                   | has a nominal         |\n|                       |                   | watt-hour capacity of |\n|                       |                   | 364 Wh.\\              |\n|                       |                   | \\                     |\n+-----------------------+-------------------+-----------------------+\n| Used Wh               | 0                 | This value shows the  |\n|                       |                   | SOC watt-hour meter   |\n|                       |                   | value. You can change |\n|                       |                   | this value if you     |\n|                       |                   | need, like in the     |\n|                       |                   | event that the        |\n|                       |                   | battery was not fully |\n|                       |                   | charged and this      |\n|                       |                   | value is not accurate |\n|                       |                   | anymore.\\             |\n|                       |                   | \\                     |\n+-----------------------+-------------------+-----------------------+'),(0,r.kt)("h2",{id:"motor"},"Motor"),(0,r.kt)("p",null,"+----------------------+-------------------+-----------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Name"),"             | ",(0,r.kt)("strong",{parentName:"p"},"Default value")," | ",(0,r.kt)("strong",{parentName:"p"},"Description"),'       |\n+----------------------+-------------------+-----------------------+\n| Motor voltage        | 48V               | Depending on type of  |\n|                      |                   | motor, set            |\n|                      |                   | appropriate value so  |\n|                      |                   | that FOC calculations |\n|                      |                   | are correctly         |\n|                      |                   | executed. The voltage |\n|                      |                   | of the battery does   |\n|                      |                   | not matter, this      |\n|                      |                   | value should always   |\n|                      |                   | be set depending on   |\n|                      |                   | type of motor. Set    |\n|                      |                   | \\"48V\\" for 48V       |\n|                      |                   | brushless motor       |\n|                      |                   | (TSDZ2 52V version    |\n|                      |                   | has a 48V brushless   |\n|                      |                   | motor). Set \\"36V\\"   |\n|                      |                   | for 36V brushless     |\n|                      |                   | motor.\\               |\n|                      |                   | Set \\"exp 48V\\" or    |\n|                      |                   | \\"exp 36V\\" for the   |\n|                      |                   | 48 or 36V brushless   |\n|                      |                   | motor, high cadence   |\n|                      |                   | mode (this            |\n|                      |                   | experimental options  |\n|                      |                   | may not be good for   |\n|                      |                   | the motor, use at     |\n|                      |                   | your own risk).       |\n+----------------------+-------------------+-----------------------+\n| Max current          | 16                | The more current the  |\n|                      |                   | more torque the motor |\n|                      |                   | will do (will also    |\n|                      |                   | put more stress on    |\n|                      |                   | internal gears like   |\n|                      |                   | the blue gear and     |\n|                      |                   | make the motor heat   |\n|                      |                   | faster). The TSDZ2    |\n|                      |                   | firmware limits this  |\n|                      |                   | value to max of 30    |\n|                      |                   | amps and high values  |\n|                      |                   | are achieved at motor |\n|                      |                   | startup / very low    |\n|                      |                   | speeds.\\              |\n|                      |                   | \\                     |\n|                      |                   | As an example, a      |\n|                      |                   | value of 8 amps can   |\n|                      |                   | be used for a kid     |\n|                      |                   | ebike, to reduce the  |\n|                      |                   | amount of torque      |\n|                      |                   | since he is small and |\n|                      |                   | light. For an adult,  |\n|                      |                   | a value of 18 amps    |\n|                      |                   | can be used.          |\n+----------------------+-------------------+-----------------------+\n| Current ramp         | 5 amps per second | Set value after user  |\n|                      |                   | preference. Higher    |\n|                      |                   | value corresponds to  |\n|                      |                   | faster acceleration   |\n|                      |                   | but also greater      |\n|                      |                   | forces on the mid     |\n|                      |                   | drive. Be mindful not |\n|                      |                   | to select too fast    |\n|                      |                   | acceleration.         |\n+----------------------+-------------------+-----------------------+\n| Min current ADC step | 1                 | Min current value (in |\n|                      |                   | ADC steps) while      |\n|                      |                   | pedaling, even if not |\n|                      |                   | pressing the pedals.  |\n|                      |                   | This is nice to keep  |\n|                      |                   | motor engaged and     |\n|                      |                   | ready even if         |\n|                      |                   | rotating pedals with  |\n|                      |                   | minimal force that it |\n|                      |                   | is not even detected  |\n|                      |                   | by the torque sensor. |\n+----------------------+-------------------+-----------------------+'),(0,r.kt)("h2",{id:"torque_sensor_torque_sen"},"Torque sensor / Torque sen"),(0,r.kt)("p",null,'Before you enable the \\"calibration\\", you MUST calibrate your torque\nsensor by following this guide: ',(0,r.kt)("a",{parentName:"p",href:"How_to_calibrate_the_torque_sensor",title:"wikilink"},"How to calibrate the torque\nsensor")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"How to use:")," everytime you startup the system, the pedals need to be\nvertical pointing to ground. You can select on Configurations to be left\nor right pedal to point to ground at startup, based on your preferences.\nThis is needed done so the system can know in which pedal are you doing\nthe force with your legs, since the weight is measured differently on\neach pedal due to the torque sensor."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"  ",(0,r.kt)("strong",{parentName:"p"},"Name"),"                            ",(0,r.kt)("strong",{parentName:"p"},"Default value"),"   ",(0,r.kt)("strong",{parentName:"p"},"Description"),"\nCalibration                         disabled            Enable the torque sensor full calibration.\nStart pedal ground / Pedal ground   left                For the calibration to work, you need to power on the system while keeping the pedals in the vertical position and without touching them or moving the bicycle. One of the pedals must be near the ground, you can select here your preferred pedal.\nLeft weight 1 / L weight 1          0                   Set the first weight value for the left pedal.\nLeft ADC 1                          304                 Set the first weight value for the left pedal.\nLeft weight x / L weight 1          x                   Set the x weight value for the left pedal.\nLeft ADC x                          x                   Set the x weight value for the left pedal."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"assist_level_assist"},"Assist level / Assist"),(0,r.kt)("p",null,"The firmware applies a motor current (motor torque) based on the pedal\nhuman power done by the rider and multiplied by the assist level factor.\nAs an example, if the current assist level factor is 0.153 and the rider\npedal human power is 100W, the motor current will be 100 ","*"," 0.153 = 15.3\namps.\\\n\\\nThe default twenty assist levels start at factor 0.005 and each next\nassist level increase the factor by +33%, which should good for most\nusers. If you still want to customize, follow the next steps to adapt\nassist level factors for you:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Calibrate the torque sensor."),(0,r.kt)("li",{parentName:"ol"},"Ride with assist level 0 (motor will be disabled) for some minutes\non a flat road and see on the display what is the average value of\nyour pedal human power - my average value is 125 watts."),(0,r.kt)("li",{parentName:"ol"},"As it is advised to not exceed 18 amps of motor current on TSDZ2,\nlet\\'s say I want to have a motor current of 12 amps for my average\nhuman power of 125 watts, so, the assist level factor should be\n0.144 (divide motor current by human power: 12 / 150 = 0.144)."),(0,r.kt)("li",{parentName:"ol"},"You can choose an assist level factor like 0.05 for assist level 0\nand increase next one by multiplying 1.33 (each level have +33%\nmotor current from previous one), resulting in the following values:\n0.05, 0.07, 0.09, 0.12, 0.16, etc.\\")),(0,r.kt)("p",null,"\\\n{","|"," ","|"," ",(0,r.kt)("strong",{parentName:"p"},"Name")," ","|","|"," ",(0,r.kt)("strong",{parentName:"p"},"Default value")," ","|","|"," ",(0,r.kt)("strong",{parentName:"p"},"Description")," ","|","- ","|","\nNumber of assist levels / Num levels ","|","|"," 20 ","|","|"," Select the desired\nnumber of assist levels from a minimum of 1 to a maximum of 20. ","|","- ","|","\nLevel 1 ","|","|"," 0.005 ","|","|"," The value with which the human pedal power is\nmultiplied to obtain the motor current value. ","|","- ","|"," Level X ","|","|"," x ","|","|","\nThe desired multiplier for assist level X. ","|","}"),(0,r.kt)("h2",{id:"walk_assist_walk"},"Walk assist / Walk"),(0,r.kt)("p",null,"Here you can enable or disable the walk assist function. And also\nconfigure the motor duty-cycle in each and every enabled assist level.\nThe defaults should work for most situations."),(0,r.kt)("p",null,"The walk assist PWM value sets the motor duty-cycle. It is an open loop\ncontroller. A PWM value of 30 will set the target duty-cycle to 30.\nMaximum settable PWM in the walk assist function is limited to a value\nof 100."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTES:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"There are only as many walk assist levels as there are assist\nlevels.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Carefully test and set appropriate values.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The function is only active in speeds below 8 km/h or around 5 mph."),(0,r.kt)("hr",{parentName:"li"}),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Name"),"                              ",(0,r.kt)("strong",{parentName:"p"},"Default value"),"   ",(0,r.kt)("strong",{parentName:"p"},"Description"),"\nEnable/disable walk assist function   disabled            Enable or disable the walk assist function.\nLevel 1                               30                  The fixed PWM value applied to the motor.\nLevel X                               x                   The fixed PWM value applied to the motor."),(0,r.kt)("hr",{parentName:"li"}))),(0,r.kt)("h2",{id:"startup_boost_start_pwr"},"Startup BOOST / Start Pwr"),(0,r.kt)("p",null,"Here you can enable, disable and configure the BOOST feature. This\nfeature helps from standstills where you might need greater assistance.\nIt gives more power during a set time and then fades the power back to\nnormal assistance. Configure the function after your own likening and\npreference."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"  ",(0,r.kt)("strong",{parentName:"p"},"Name"),"             ",(0,r.kt)("strong",{parentName:"p"},"Default value"),"   ",(0,r.kt)("strong",{parentName:"p"},"Description"),"\nFeature              disabled            Enable or disable the startup BOOST function.\nActive on            startup             Set to startup to enable startup BOOST feature only when startup and bicycle wheel speed is equal to zero or set to enable to enable BOOST feature every time pedal cadence or torque sensor value are zero.\nLimit to max-power   no                  Yes to enable BOOST power limit to the maximum battery power value and no to disable.\nDuration             2.0                 Set time limit of BOOST in seconds.\nFade                 3.5                 Set time limit to transition of power from BOOST to regular power.\nLevel 1              4                   Set the BOOST multiplier corresponding to assist level 1. Tip: See assist levels for more information about multipliers.\nLevel X              ","-","                  Set the BOOST multiplier corresponding to assist level X."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"motor_temperaturethrottle_motor_temp"},"Motor temperature/Throttle / Motor temp"),(0,r.kt)("p",null,"Here you can enable or disable the throttle or the motor temperature\nprotection that will let you push the motor limits. Note that you must\nfirst install the ",(0,r.kt)("a",{parentName:"p",href:"How_to_install_motor_temperature_sensor",title:"wikilink"},"motor temperature\nsensor"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTES:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The throttle and the motor temperature protection can not be active\nsimultaneously. This is because they use the same hardware ports to\noperate."),(0,r.kt)("li",{parentName:"ul"},"If the motor temperature sensor is installed it is not possible to\nuse the throttle. Do NOT enable throttle if that is the case.")),(0,r.kt)("p",null,"+-----------+-------------------+------------------------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Name"),"  | ",(0,r.kt)("strong",{parentName:"p"},"Default value")," | ",(0,r.kt)("strong",{parentName:"p"},"Description"),"                    |\n+-----------+-------------------+------------------------------------+\n| Feature   | disabled          | ","*",'\\"disabled\\" means that neither  |\n|           |                   | motor temperature limit function   |\n|           |                   | nor throttle is enabled.           |\n|           |                   |                                    |\n|           |                   | -   \\"temperature\\" enables the    |\n|           |                   |     automatic motor temperature    |\n|           |                   |     control limit.                 |\n|           |                   | -   \\"throttle\\" enables the       |\n|           |                   |     throttle.                      |\n|           |                   |                                    |\n|           |                   | \\                                  |\n|           |                   | \\                                  |\n|           |                   | NOTE: Do NOT enable the throttle   |\n|           |                   | if you have installed the ',"[motor   |\n|           |                   | temperature                        |\n|           |                   | sensor]",'(How_to_install_mot         |\n|           |                   | or_temperature_sensor "wikilink"). |\n|           |                   | If you have the sensor installed   |\n|           |                   | you need to either have the motor  |\n|           |                   | temperature limit function enabled |\n|           |                   | or everything disabled.            |\n+-----------+-------------------+------------------------------------+\n| Min limit | 75                | Set the minimum motor temperature  |\n|           |                   | at which the power will start to   |\n|           |                   | be limited.                        |\n+-----------+-------------------+------------------------------------+\n| Max limit | 85                | Set the maximum motor temperature  |\n|           |                   | at which the power will be         |\n|           |                   | completely blocked, i.e. no motor  |\n|           |                   | assistance.                        |\n+-----------+-------------------+------------------------------------+'),(0,r.kt)("h2",{id:"street_mode_street_mod"},"Street mode / Street mod"),(0,r.kt)("p",null,"This feature enables user to limit speed and power when using the bike\non public roads (useful in the case the local laws impose such\nlimitations - YOU MUST CHECK YOUR OWN LOCAL LAWS AND COMPLY WITH THEM).\nIt is also possible to disable the throttle function when in Street\nMode."),(0,r.kt)("p",null,"On 860C/850C display you will see the ASSIST label with orange color\nwhen street mode is disabled. On SW102, the white lines around battery\nsymbol, battery SOC and wheel speed will disappear when street mode is\ndisabled."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"  ",(0,r.kt)("strong",{parentName:"p"},"Name"),"                         ",(0,r.kt)("strong",{parentName:"p"},"Default value"),"   ",(0,r.kt)("strong",{parentName:"p"},"Description"),"\nFeature                          disabled            When this feature is disabled, you can not activate if from the main screen.\nEnable at startup / Enabl stup   no                  Determines whether Street mode should be active on system startup.\nSpeed limit / Speed limt         25 km/h             Set speed limit for when Street Mode is active. The motor will fade out power from -0.5 km/h to +2,0 km/h to prevent overspeeding.\nMotor power limit / Power limt   250 W               The power limit in watts when Street Mode is active.\nThrottle enable / Throt enab     no                  Determines if throttle is enabled in Street Mode."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"variables_850c_only"},"Variables (850C only)"),(0,r.kt)("p",null,"This configuration let you configure some options of the possible\nvariables shown on the numeric field and on graph."),(0,r.kt)("p",null,"+--------------------+-------------------+---------------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Name"),"           | ",(0,r.kt)("strong",{parentName:"p"},"Default value")," | ",(0,r.kt)("strong",{parentName:"p"},"Description"),"           |\n+--------------------+-------------------+---------------------------+\n| Graph auto max min | x                 | Should graph use an       |\n|                    |                   | automatic values for max  |\n|                    |                   | and min or use the        |\n|                    |                   | following manual values.  |\n+--------------------+-------------------+---------------------------+\n| Graph max          | x                 | Set the graph max value.  |\n|                    |                   | Will be set up to when a  |\n|                    |                   | new value on the graph is |\n|                    |                   | lower than this value.    |\n+--------------------+-------------------+---------------------------+\n| Graph min          | x                 | Set the graph min value.  |\n|                    |                   | Will be set up to when a  |\n|                    |                   | new value on the graph is |\n|                    |                   | higher than this value.   |\n+--------------------+-------------------+---------------------------+\n| Thresholds         | x                 | Thresholds will make the  |\n|                    |                   | graph or numeric field    |\n|                    |                   | values fade to yellow or  |\n|                    |                   | red color, depending on   |\n|                    |                   | the variable value. For   |\n|                    |                   | instance, as soon motor   |\n|                    |                   | speed start to approach   |\n|                    |                   | near his max value, the   |\n|                    |                   | color will fade first to  |\n|                    |                   | yellow and then to red.\\  |\n|                    |                   | You can disable, set to   |\n|                    |                   | manual or automatic the   |\n|                    |                   | thresholds.               |\n+--------------------+-------------------+---------------------------+\n| Max threshold      | x                 | Set the value for manual  |\n|                    |                   | max threshold, for red    |\n|                    |                   | color.                    |\n+--------------------+-------------------+---------------------------+\n| Min threshold      | x                 | Set the value for manual  |\n|                    |                   | max threshold, for yellow |\n|                    |                   | color.                    |\n+--------------------+-------------------+---------------------------+"),(0,r.kt)("h2",{id:"various"},"Various"),(0,r.kt)("hr",null),(0,r.kt)("p",null,"  ",(0,r.kt)("strong",{parentName:"p"},"Name"),"               ",(0,r.kt)("strong",{parentName:"p"},"Default value"),"   ",(0,r.kt)("strong",{parentName:"p"},"Description"),"\nOdometer               0                   This field shows current odometer value. You can also edit the value, like set to 0 to reset the odometer.\nAssist w/o pedal rot   disable             Enable to get motor assistance once you press the pedals even without rotating them. Recommended to keep disabled if you do not have brake sensors installed."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"display"},"Display"),(0,r.kt)("p",null,"+-----------------------+-------------------+-----------------------+\n| ",(0,r.kt)("strong",{parentName:"p"},"Name"),"              | ",(0,r.kt)("strong",{parentName:"p"},"Default value")," | ",(0,r.kt)("strong",{parentName:"p"},"Description"),"       |\n+-----------------------+-------------------+-----------------------+\n| Clock hours (850C     | 0                 | See current hour      |\n| only)                 |                   | value or set a        |\n|                       |                   | different value.      |\n+-----------------------+-------------------+-----------------------+\n| Clock minutes (850C   | 0                 | See current minutes   |\n| only)                 |                   | value or set a        |\n|                       |                   | different value.      |\n+-----------------------+-------------------+-----------------------+\n| Brightness on (850C   | 100%              | Set display back      |\n| only)                 |                   | light brightness when |\n|                       |                   | lights are on.        |\n+-----------------------+-------------------+-----------------------+\n| Brightness off (850C  | 30%               | Set display back      |\n| only)                 |                   | light brightness when |\n|                       |                   | lights are off.       |\n+-----------------------+-------------------+-----------------------+\n| Auto power off        | 15m               | Set the amount of     |\n|                       |                   | minutes for the       |\n|                       |                   | display automatic     |\n|                       |                   | power off.\\           |\n|                       |                   | The auto power off    |\n|                       |                   | timer counter is      |\n|                       |                   | reset when wheel      |\n|                       |                   | speed or battery      |\n|                       |                   | current higher than   |\n|                       |                   | 0, or, if brakes or   |\n|                       |                   | buttons are active.   |\n+-----------------------+-------------------+-----------------------+\n| Units                 | SI                | Set units to SI or    |\n|                       |                   | Imperial.             |\n+-----------------------+-------------------+-----------------------+\n| LCD type (850C only)  | x                 | This is read only and |\n|                       |                   | is the LCD type on    |\n|                       |                   | the display and is    |\n|                       |                   | relevant for          |\n|                       |                   | developers. Actual    |\n|                       |                   | options are ILI9481,  |\n|                       |                   | ST7796 and unknown.   |\n+-----------------------+-------------------+-----------------------+\n| Reset to defaults     | no                | Set yes to reset all  |\n|                       |                   | the configurations to |\n|                       |                   | default values.       |\n+-----------------------+-------------------+-----------------------+"),(0,r.kt)("h2",{id:"technical"},"Technical"),(0,r.kt)("p",null,"Here you can see the values of some variables of the system. This can\nhelp debug issues on TSDZ2 or help you understand how the system works."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"  ",(0,r.kt)("strong",{parentName:"p"},"Name"),"                ",(0,r.kt)("strong",{parentName:"p"},"Default value"),"   ",(0,r.kt)("strong",{parentName:"p"},"Description"),"\nADC throttle sensor     x                   Current value of the input signal from throttle, from 0 to 255.\nThrottle sensor         x                   Current value of the input signal from throttle, without offset, from 0 to 255.\nADC torque sensor       x                   Current value of the input signal from torque sensor, from 0 to 1023.\nPedal side              x                   Current side of the pedal the firmware considers. This value depends on correct calibration at startup of the system: the pedals need to be vertical pointing to ground. You can select on Configurations to be left or right pedal to point to ground at startup, based on your preferences. This is needed to the system can know in which pedal are you doing the force with your legs, since the weight is measured differently on each pedal due to the torque sensor.\nWeight with offset      x                   Weight on the pedals and this value can have an offset representing a no zero value at startup when there are zero weight on pedals.\nWeight without offset   x                   Same as previous but with offset removed.\nPedal cadence           x",(0,r.kt)("br",{parentName:"p"}),"\n","PWM duty-cycle          x                   This values can fluctuate between 0 and 100 max. Where 0 means 0 battery voltage applied to motor coils while 100 means max battery voltage applied. When this value hits the max of 100, means that motor max power possible is being applied.\nMotor speed             x                   In ERPS (electric rotation per second) units. The motor has 8 pair of magnets inside, meaning each 1 ERPs equal to one RPS (rotation per second).\nMotor FOC               x                   Angle calculated by FOC algorithm, between 0 and 30. Higher motor phase current and/or higher motor speed, makes this value increase.\nHall sensors            x                   Current value of the motor hall sensor. You can rotate very slow the bicycle wheel back backwards to see this value changing and it must always follow the next same sequence and values must be only the next ones: 4, 6, 2, 3, 1, 5."),(0,r.kt)("hr",null))}c.isMDXComponent=!0}}]);