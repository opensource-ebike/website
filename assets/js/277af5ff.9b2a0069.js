"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[586],{3905:function(e,t,n){n.d(t,{Zo:function(){return h},kt:function(){return u}});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},h=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),c=p(n),u=r,d=c["".concat(s,".").concat(u)]||c[u]||m[u]||a;return n?o.createElement(d,i(i({ref:t},h),{},{components:n})):o.createElement(d,i({ref:t},h))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<a;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}c.displayName="MDXCreateElement"},91603:function(e,t,n){n.r(t),n.d(t,{assets:function(){return h},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return m}});var o=n(83117),r=n(80102),a=(n(67294),n(3905)),i=["components"],l={},s="**Remote operation**",p={unversionedId:"display/TSDZ2 wireless project/operation",id:"display/TSDZ2 wireless project/operation",title:"**Remote operation**",description:"Getting started with the Wireless remote",source:"@site/docs/display/TSDZ2 wireless project/operation.md",sourceDirName:"display/TSDZ2 wireless project",slug:"/display/TSDZ2 wireless project/operation",permalink:"/docs/display/TSDZ2 wireless project/operation",draft:!1,editUrl:"https://github.com/OpenSourceEBike/OpenSourceEBike.github.io/tree/master/docs/display/TSDZ2 wireless project/operation.md",tags:[],version:"current",frontMatter:{},sidebar:"displaySidebar",previous:{title:"Updating the firmware",permalink:"/docs/display/TSDZ2 wireless project/firmware"},next:{title:"Alternative Wireless remote design",permalink:"/docs/display/TSDZ2 wireless project/remote/alt/build_remote"}},h={},m=[{value:"Getting started with the Wireless remote",id:"getting-started-with-the-wireless-remote",level:2},{value:"<strong>That&#39;s basically all you need to get started with the wireless remote.</strong>",id:"thats-basically-all-you-need-to-get-started-with-the-wireless-remote",level:3},{value:"Remote Operating Modes",id:"remote-operating-modes",level:2},{value:"NORMAL MODE",id:"normal-mode",level:2},{value:"CONFIGURATION MODE",id:"configuration-mode",level:2},{value:"Button Operation (CONFIGURATION MODE)",id:"button-operation-configuration-mode",level:2},{value:"Wireless Remote CR2032 Battery Life Estimation",id:"wireless-remote-cr2032-battery-life-estimation",level:2}],c={toc:m};function u(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"remote-operation"},(0,a.kt)("strong",{parentName:"h1"},"Remote operation")),(0,a.kt)("h2",{id:"getting-started-with-the-wireless-remote"},"Getting started with the Wireless remote"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"To get started , follow this simple four step process (or five steps if you have connected the e-brakes):"),"\n(Please note that buttons will briefly flash ",(0,a.kt)("strong",{parentName:"p"},"RED")," if they are inactive)"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Ensure that the second wireless board is powered up and connected to the TSDZ2 motor controller. Ensure that the remote has a battery connected.Tje board will short flash ",(0,a.kt)("strong",{parentName:"li"},"RED"),", ",(0,a.kt)("strong",{parentName:"li"},"YELLOW")," and ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LEDS when initially powered on. Shortly after this, the board will begin searching for an ANT connection. When the remote is searching for an ANT connection, the ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will slowly flash. When a connection is made with the motor, the ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LED will short flash twice followed by one long flash to indicate connection."),(0,a.kt)("li",{parentName:"ol"},"To turn on the motor from the remote control, press and hold the ","[POWER]","` key on the remote control. The  ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," and ",(0,a.kt)("strong",{parentName:"li"},"RED")," LEDs will start alternating flashing, and will continue flashing until the motor is on, at which time a ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LED will short flash twice to indicate that the motor is on."),(0,a.kt)("li",{parentName:"ol"},"press the ","[PLUS/MINUS]","` keys briefly to increase/decrease the motor assist level. The ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LED will briefly flash on every press of the button. There are 7 levels of assist. When you reach level 7 (maximum assist) or level 0 (motor off) the ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will briefly flash."),(0,a.kt)("li",{parentName:"ol"},"(Optional step needed you have connected the e-brakes) Depress either the right or left brake lever. The ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will turn on and the motor assist will stop. Release the brake lever and the ",(0,a.kt)("strong",{parentName:"li"},"RED")," led will turn off and the motor assist will resume. If the brake lever is held down for more than 5 seconds, the ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will turn off to conserve power."),(0,a.kt)("li",{parentName:"ol"},"To turn off the motor, press and hold the ","[POWER]","` key on the remote control. The ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will short flash twice, followed by one long flash to indicate the motor is off. The LED will then flash one flash for every 10% of charge remaining in the battery.(ie:5 flashes=50% charge remaining). The flashes will be ",(0,a.kt)("strong",{parentName:"li"},"RED")," from 0%-40%, ",(0,a.kt)("strong",{parentName:"li"},"YELLOW")," from 40%-70%, and ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," from 70% to 100% of charge.")),(0,a.kt)("h3",{id:"thats-basically-all-you-need-to-get-started-with-the-wireless-remote"},(0,a.kt)("strong",{parentName:"h3"},"That's basically all you need to get started with the wireless remote.")),(0,a.kt)("p",null,'Read the "',(0,a.kt)("strong",{parentName:"p"},"Button Operation (NORMAL MODE)"),"\" section below for more details on the remote's operation when riding your e-bike."),(0,a.kt)("p",null,'If you would like to configure the remote, please read the "',(0,a.kt)("strong",{parentName:"p"},"Remote Operating Modes"),'" section next. Please note that the remote will control the motor "out of the box" and no configuration is necessary unless you would like to pair a specific bike computer, set specific ANT configurations, or wirelessly update the remote firmware . Most people can safely ignore ',(0,a.kt)("strong",{parentName:"p"},"CONFIGURATION MODE")," and still enjoy full functionality from their remote."),(0,a.kt)("p",null,"Have Fun!!"),(0,a.kt)("h2",{id:"remote-operating-modes"},"Remote Operating Modes"),(0,a.kt)("p",null,"The remote has two modes of operation; ",(0,a.kt)("strong",{parentName:"p"},"CONFIGURATION MODE")," and ",(0,a.kt)("strong",{parentName:"p"},"NORMAL MODE"),", for configuration and normal operation, respectively."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"normal-mode"},"NORMAL MODE"),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"General LED button signals:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"When the motor is off, inactive buttons will briefly flash a ",(0,a.kt)("strong",{parentName:"p"},"RED")," LED when pressed.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Long Pressing a button will briefly flash a ",(0,a.kt)("strong",{parentName:"p"},"GREEN")," LED to indicate that the button has been pressed"))),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Short Press Button Actions:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Short Press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[PLUS]")," / ",(0,a.kt)("inlineCode",{parentName:"li"},"[MINUS]"),"  buttons to increase/decrease the assist level. The ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LED will flash on every button press. If the assist level has reached either 0 or 7, pressing the ",(0,a.kt)("inlineCode",{parentName:"li"},"[PLUS]")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"[MINUS]")," keys key will cause the led to briefly flash ",(0,a.kt)("strong",{parentName:"li"},"RED")," to indicate the limit has been reached. "),(0,a.kt)("li",{parentName:"ul"},"When the motor is on, short Press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[POWER]")," button to display the motor battery state of charge. Battery state is indicated by flashing. The number of flashes will indicate battery charge state from from 1 flash (10% charge) to 10 flashes (100% charge). The flashes will be ",(0,a.kt)("strong",{parentName:"li"},"RED")," from 0%-40%, ",(0,a.kt)("strong",{parentName:"li"},"YELLOW")," from 40%-70%, and ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," from 70% to 100% of charge.(Motor On ",(0,a.kt)("strong",{parentName:"li"},"ONLY"),".)  "),(0,a.kt)("li",{parentName:"ul"},"When the motor is off, double click on the ",(0,a.kt)("inlineCode",{parentName:"li"},"[POWER]")," button to put the remote control in 'deep sleep' power off mode. The ",(0,a.kt)("strong",{parentName:"li"},"RED"),", ",(0,a.kt)("strong",{parentName:"li"},"GREEN"),", ",(0,a.kt)("strong",{parentName:"li"},"BLUE"),", ",(0,a.kt)("strong",{parentName:"li"},"YELLOW"),", and ",(0,a.kt)("strong",{parentName:"li"},"RED")," LEDS will short flash  to indicate initiation of power off mode."),(0,a.kt)("li",{parentName:"ul"},"Short Press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[ENTER]")," button to ",(0,a.kt)("strong",{parentName:"li"},"PAGE UP")," on a connected garmin bike computer. (Works ",(0,a.kt)("strong",{parentName:"li"},"ONLY")," if garmin control is activated)"),(0,a.kt)("li",{parentName:"ul"},"Double click on the ",(0,a.kt)("inlineCode",{parentName:"li"},"[ENTER]")," button to set one of 3 levels for LED intensity. Every  double click will set a new LED intensity. The ",(0,a.kt)("strong",{parentName:"li"},"RED"),", ",(0,a.kt)("strong",{parentName:"li"},"GREEN"),", and ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LEDs will long flash followed by a short flash of either ",(0,a.kt)("strong",{parentName:"li"},"RED")," or ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," (depending on whether a garmin is connected) so the effect of the new setting can clearly be seen.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Long Press Button Actions:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Long Press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[ENTER]")," button to ",(0,a.kt)("strong",{parentName:"li"},"PAGE DOWN")," on a connected garmin bike computer. (Works ",(0,a.kt)("strong",{parentName:"li"},"ONLY")," if garmin control is activated)"),(0,a.kt)("li",{parentName:"ul"},"A long press of the ",(0,a.kt)("inlineCode",{parentName:"li"},"[POWER]")," key will turn the motor ON or OFF. The  ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," and ",(0,a.kt)("strong",{parentName:"li"},"RED")," LEDs will start alternating flashing, and will continue flashing until the motor is on, at which time a ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LED will short flash twice to indicate that the motor is on. If the motor is turning off, The ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will short flash twice, followed by one long flash to indicate the motor is off. "),(0,a.kt)("li",{parentName:"ul"},"Long press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[PLUS]")," button to toggle the lights on/off "),(0,a.kt)("li",{parentName:"ul"},"Long press and hold the ",(0,a.kt)("inlineCode",{parentName:"li"},"[MINUS]"),"[MINUS]",(0,a.kt)("inlineCode",{parentName:"li"},"button to start the motor walk assist. When walk mode is active the **GREEN**  LED** will flash slowly.Releasing the"),"[MINUS]","` button stops walk assist."),(0,a.kt)("li",{parentName:"ul"},"A very long press (more than 10 seconds) of the ",(0,a.kt)("inlineCode",{parentName:"li"},"[ENTER]")," button will enter ",(0,a.kt)("strong",{parentName:"li"},"CONFIGURATION MODE"),". The e ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LED will flash rapidly 10 times to indicate thay configuration mode is active.")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"configuration-mode"},"CONFIGURATION MODE"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"In ",(0,a.kt)("strong",{parentName:"p"},"CONFIGURATION MODE"),", the remote has a 2 configuration options, namely specifying a specific ANT ID for use with the ebike and setting up ANT LEV control options. Both of these settings are optional as the remote will default to control the TSDZ2 wireless controller without the need to set anything."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The ANT ID allows you to pair the remote to a specific TSDZ2 motor. The default ANT ID of 0 allows the remote to pair with any TSDZ2 motor within range. Any other number will cause the remote to ONLY pair with a motor with the same ANT ID. This is a useful option if you have multiple ebikes. The ANT ID can be changed by a bluetooth connection to the remote."),(0,a.kt)("li",{parentName:"ul"},"The ANT LEV control options allow you to pair the remote to an ebike alone, (the default option) , a bike computer (like the Garmin Edge series) , or any combination of these devices.\nto enter and exit ",(0,a.kt)("strong",{parentName:"li"},"CONFIGURATION MODE")," press and hold the ",(0,a.kt)("inlineCode",{parentName:"li"},"[ENTER]")," button for more than 5 seconds. The ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LED will flash rapidly 10 times to indicate that configuration mode is active, followed by a visual display of ANT  options. The ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will flash 5 times to indicate TSDZ2 motor control is active, followed by the ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LED flashing 5 times to indicate that control of Garmin bike computers is active ",(0,a.kt)("br",null))),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"button-operation-configuration-mode"},"Button Operation (CONFIGURATION MODE)"),(0,a.kt)("hr",null),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Short press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[ENTER]")," key to display configuration options. The ",(0,a.kt)("strong",{parentName:"li"},"RED")," LED will flash 5 times to indicate TSDZ2 motor control is active, followed by the ",(0,a.kt)("strong",{parentName:"li"},"GREEN")," LED flashing 5 times to indicate that control of Garmin bike computers is active"),(0,a.kt)("li",{parentName:"ul"},"Long press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[ENTER]")," key to leave ",(0,a.kt)("strong",{parentName:"li"},"CONFIGURATION"),"  mode. The ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LED will flash 5 times to indicate you are entering ",(0,a.kt)("strong",{parentName:"li"},"NORMAL")," mode"),(0,a.kt)("li",{parentName:"ul"},"Short press the ",(0,a.kt)("inlineCode",{parentName:"li"},"[PLUS/MINUS]")," keys to enable/disable garmin control. (The ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LED will rapidly flash to indicate that the setting has changed)"),(0,a.kt)("li",{parentName:"ul"},"Long Press ",(0,a.kt)("inlineCode",{parentName:"li"},"[PLUS/MINUS]")," keys to enable/disable TSDZ2 motor control(The ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LED will rapidly flash to indicate that the setting has changed)"),(0,a.kt)("li",{parentName:"ul"},"A Long Press of the ",(0,a.kt)("inlineCode",{parentName:"li"},"[POWER]")," button will initate Device Firmware Update (DFU) mode.  The ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LED will flash rapidly, wait 1 second, and the ",(0,a.kt)("strong",{parentName:"li"},"BLUE")," LED will then flash rapidly again, and the board will enter DFU mode. Either the remote or bootloader firmware can be updated to a new version using a provided upgrade packet zip file in DFU mode. For more information click ",(0,a.kt)("inlineCode",{parentName:"li"},"[here]"),"(dfu.md).")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"wireless-remote-cr2032-battery-life-estimation"},"Wireless Remote CR2032 Battery Life Estimation"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"The wireless remote control is designed for operation with a 3V CR2032 button battery.",(0,a.kt)("br",null),"\nSo, what is the expected battery life in normal use with this battery?",(0,a.kt)("br",null),"\nFor a typical commuter  that rides their bike 5 days a week for 1.5 hrs a day, and twice on the  weekend for another 4 hrs in total, (11.5 total hrs/week) the answer would be approximately 2 yrs.",(0,a.kt)("br",null),"\nHowever, battery life is affected by aa number of factors, including ambient temperature.",(0,a.kt)("br",null),"To avoid any potential battery issues, It is recommended that a user replace the wireless remote battery annually.\nFor details on how this estimate is arrived at, please see the ",(0,a.kt)("a",{parentName:"p",href:"/docs/display/TSDZ2%20wireless%20project/Power_Analysis"},"Detailed Power Analysis")),(0,a.kt)("hr",null),(0,a.kt)("p",null,"See controlling a Garmin 1030 bike computer for assist levels and page control using a simulated ANT+ LEV Ebike in this video:"),(0,a.kt)("p",null,"[","![video]",(0,a.kt)("inlineCode",{parentName:"p"},"(https://img.youtube.com/vi/s7URIMVzcwc/hqdefault.jpg)]"),"(",(0,a.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=s7URIMVzcwc"},"https://www.youtube.com/watch?v=s7URIMVzcwc"),")"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"See changing the ANT+ LEV Device Number (to connect to only one specific eBike) using the Nordic nRF Connect app in this video:"),(0,a.kt)("p",null,"[","![video]",(0,a.kt)("inlineCode",{parentName:"p"},"(https://img.youtube.com/vi/_ALauuDxZuQ/hqdefault.jpg)]"),"(",(0,a.kt)("a",{parentName:"p",href:"https://youtu.be/_ALauuDxZuQ"},"https://youtu.be/_ALauuDxZuQ"),") "),(0,a.kt)("hr",null),(0,a.kt)("p",null,"nRFConnect is available on the play store ","[here]","`(",(0,a.kt)("a",{parentName:"p",href:"https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp&hl=en_CA&gl=US"},"https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp&hl=en_CA&gl=US"),")"),(0,a.kt)("hr",null))}u.isMDXComponent=!0}}]);